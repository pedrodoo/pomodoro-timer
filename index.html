<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer</title>
    <link rel="stylesheet" href="/src/style.css">
</head>
<body>
    <header class="top-bar">
        <button type="button" id="menu-btn" class="menu-btn" aria-label="Open settings" aria-expanded="false" aria-controls="settings-drawer">
            <span class="menu-btn-bar"></span>
            <span class="menu-btn-bar"></span>
            <span class="menu-btn-bar"></span>
        </button>
        <div class="mode-toggle" role="tablist" aria-label="Timer mode">
            <span class="mode-toggle__pill" aria-hidden="true"></span>
            <button type="button" id="mode-focus" class="mode-toggle__option mode-toggle__option--active" role="tab" aria-selected="true" data-mode="work">
                <span class="mode-toggle__icon" aria-hidden="true"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg></span>
                Focus
            </button>
            <button type="button" id="mode-break" class="mode-toggle__option" role="tab" aria-selected="false" data-mode="break">
                <span class="mode-toggle__icon" aria-hidden="true"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg></span>
                Break
            </button>
        </div>
    </header>
    <div id="settings-overlay" class="settings-overlay" aria-hidden="true"></div>
    <aside id="settings-drawer" class="settings-drawer" aria-labelledby="settings-heading" aria-hidden="true">
        <h2 id="settings-heading">Settings</h2>
        <div class="settings-row">
            <label for="work-duration">Focus (min)</label>
            <input type="number" id="work-duration" min="1" max="60" value="25" />
        </div>
        <div class="settings-row">
            <label for="break-duration">Break (min)</label>
            <input type="number" id="break-duration" min="1" max="60" value="5" />
        </div>
        <button type="button" id="apply-settings">Apply</button>
    </aside>
    <div id="app">
        <div class="atmosphere" aria-hidden="true">
            <div class="atmosphere__gradient"></div>
            <div class="atmosphere__blobs">
                <span class="atmosphere__blob atmosphere__blob--1"></span>
                <span class="atmosphere__blob atmosphere__blob--2"></span>
                <span class="atmosphere__blob atmosphere__blob--3"></span>
                <span class="atmosphere__blob atmosphere__blob--4"></span>
                <span class="atmosphere__blob atmosphere__blob--5"></span>
            </div>
            <div class="atmosphere__noise">
                <svg class="atmosphere__noise-svg" viewBox="0 0 100 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <filter id="noiseFilter">
                        <feTurbulence type="fractalNoise" baseFrequency="0.015" numOctaves="3" result="t" />
                        <feColorMatrix in="t" type="saturate" values="0" result="gray" />
                        <feComponentTransfer in="gray"><feFuncA type="linear" slope="0.06" /></feComponentTransfer>
                    </filter>
                    <rect width="100" height="100" filter="url(#noiseFilter)" />
                </svg>
            </div>
        </div>
        <main class="pomodoro-timer" role="timer" aria-live="polite">
            <div class="timer-display">
                <svg class="progress-ring" viewBox="0 0 100 100" aria-hidden="true" focusable="false">
                    <defs>
                        <linearGradient id="workRingGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#c94a3a" />
                            <stop offset="100%" stop-color="#e85c4a" />
                        </linearGradient>
                        <linearGradient id="breakRingGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#2d9482" />
                            <stop offset="100%" stop-color="#5dd4b8" />
                        </linearGradient>
                        <filter id="ringGlow" x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox">
                            <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur" />
                            <feMerge>
                                <feMergeNode in="blur" />
                                <feMergeNode in="SourceGraphic" />
                            </feMerge>
                        </filter>
                    </defs>
                    <circle class="progress-ring__track" cx="50" cy="50" r="45" fill="none" stroke-width="8" />
                    <circle id="progress-ring-glow" class="progress-ring__glow" cx="50" cy="50" r="45" fill="none" stroke-width="8" stroke-linecap="round" />
                    <circle id="progress-ring-circle" class="progress-ring__fill" cx="50" cy="50" r="45" fill="none" stroke-width="8" stroke-linecap="round" />
                </svg>
                <div class="timer-display__inner">
                    <span id="mode-label" class="timer-mode-label">Focus</span>
                    <div id="time-display" class="pomodoro-time" aria-label="Time remaining">25:00</div>
                    <span id="preset-label" class="timer-preset-label">25 min</span>
                    <span id="running-indicator" class="running-indicator" aria-hidden="true"></span>
                </div>
            </div>
            <p id="session-counter" class="session-counter" aria-label="Pomodoro round">Round 1</p>
            <div class="pomodoro-controls">
                <button type="button" id="start-pause-btn" class="pomodoro-control pomodoro-control--primary" aria-label="Start timer">Start</button>
                <button type="button" id="reset-btn" class="pomodoro-control" aria-label="Reset timer">Reset</button>
            </div>
        </main>
    </div>
    <script type="module" src="/src/main.js"></script>
</body>
</html>